CREATE OR REPLACE TABLE `hca-sandbox.LLM_Test.fhir_encounters` (
  encounter_id STRING OPTIONS(description='The \'encounter_id\' field is a unique identifier assigned to a specific encounter. It serves as the primary key for referencing and retrieving encounter information. This ID is crucial for tracking patient visits, linking related data, and ensuring data integrity across systems. It\'s typically a UUID or a system-generated identifier. This field is essential for data management and interoperability.'),
  lastupdated TIMESTAMP OPTIONS(description='The \'lastupdated\' field indicates the date and time when the encounter record was last modified. This timestamp is essential for tracking changes, auditing data, and ensuring data consistency. It helps determine the most recent version of the encounter information. This field is crucial for data governance and synchronization across systems.'),
  hl7_message_date_time DATETIME OPTIONS(description='The \'hl7_message_date_time\' field represents the date and time when the HL7 message related to the encounter was created. This field is important for tracing the origin and context of the encounter data. It helps in understanding the flow of information from the source system. It is often used for debugging and auditing purposes.'),
  hl7_message_date_time_UTC DATETIME OPTIONS(description='The \'hl7_message_date_time_UTC\' field represents the date and time when the HL7 message related to the encounter was created, specifically in Coordinated Universal Time (UTC). This ensures consistency and avoids ambiguity due to time zone differences. It\'s crucial for global interoperability and data synchronization across different time zones.'),
  hl7_message_control_id STRING OPTIONS(description='The \'hl7_message_control_id\' field is a unique identifier assigned to the HL7 message associated with the encounter. This ID is used for tracking and managing HL7 messages within the system. It helps in correlating messages and ensuring proper message delivery and processing. It is essential for message-based integration and error tracking.'),
  meta_latest_source_date_time DATETIME OPTIONS(description='The \'meta_latest_source_date_time\' field indicates the most recent date and time when the encounter data was received from the source system. This field is useful for tracking data provenance and identifying the freshest data available. It helps in resolving data conflicts and ensuring data accuracy. It is important for data warehousing and reporting.'),
  intermediate_snapshot_creation_date_time DATETIME OPTIONS(description='The \'intermediate_snapshot_creation_date_time\' field represents the date and time when an intermediate snapshot of the encounter data was created. This is often used in data processing pipelines for versioning and recovery purposes. It allows for tracking changes and reverting to previous states if needed. It is useful for data auditing and debugging.'),
  final_fhir_write_date_time DATETIME OPTIONS(description='The \'final_fhir_write_date_time\' field indicates the date and time when the encounter data was written to the FHIR repository. This timestamp is crucial for tracking the completion of the FHIR transformation and loading process. It helps in monitoring data integration and ensuring data availability. It is important for data quality and performance monitoring.'),
  final_fhir_commit_date_time DATETIME OPTIONS(description='The \'final_fhir_commit_date_time\' field represents the date and time when the encounter data was committed to the FHIR repository. This timestamp signifies the finalization of the data transaction and ensures data persistence. It is essential for data integrity and reliability. It is used for auditing and recovery purposes.'),
  encounter_version_id STRING OPTIONS(description='The \'encounter_version_id\' field is an identifier that represents a specific version of the encounter resource. This is useful for tracking changes to the encounter over time and for auditing purposes. It allows systems to retrieve specific versions of the encounter data. It is important for data governance and version control.'),
  version_id_fingerprint INTEGER OPTIONS(description='A hash or fingerprint representing the version of the Encounter resource. Used for change tracking and data integrity. It helps identify if the resource has been modified. Not directly PHI/PII but indirectly related through the encounter data.'),
  consent_coid STRING OPTIONS(description='The COID (Corporate Object Identifier) associated with the consent related to this encounter.  Links the encounter to specific patient consent records. Could indirectly reveal PHI/PII depending on the consent details.'),
  meta_action_code STRING OPTIONS(description='A code indicating the action performed on the Encounter resource (e.g., create, update, delete). Used for auditing and tracking changes to the encounter data. Not directly PHI/PII.'),
  hl7_v2_source_interface STRING OPTIONS(description='Identifies the HL7 v2 interface from which the encounter data originated. Useful for tracing data lineage and troubleshooting integration issues. Not directly PHI/PII.'),
  patient_account_num STRING OPTIONS(description='The patient\'s account number associated with the encounter. Used for billing and financial tracking. Directly linked to the patient and their financial information, thus PHI/PII.'),
  patient_primary_id STRING OPTIONS(description='The patient\'s primary identifier. This is a core piece of PHI as it directly identifies the patient. It is essential for linking the encounter to the correct patient record.'),
  network_mnemonic STRING OPTIONS(description='A short code or abbreviation representing the network associated with the encounter. Could indirectly relate to PHI/PII depending on the network\'s function.'),
  medical_record_num STRING OPTIONS(description='The patient\'s medical record number (MRN). A key identifier used to locate the patient\'s complete medical history. Directly identifies the patient and is therefore PHI/PII.'),
  coid STRING OPTIONS(description='Corporate Object Identifier. A unique identifier assigned to the encounter within the organization. May indirectly relate to PHI/PII depending on the system.'),
  facility_mnemonic STRING OPTIONS(description='A short code or abbreviation representing the facility where the encounter occurred. Not directly PHI/PII, but indirectly related through the encounter context.'),
  fhir_visit_status STRING OPTIONS(description='The \'fhir_visit_status\' field represents the status of the encounter (e.g., planned, in-progress, completed, cancelled). It provides information about the current state of the patient\'s visit. This is often mapped from legacy visit status codes to FHIR value sets. Crucial for workflow management and reporting. PHI/PII: False. HIPAA: False.'),
  fhir_patient_class_code STRING OPTIONS(description='The \'fhir_patient_class_code\' field represents the classification of the patient\'s encounter (e.g., inpatient, outpatient, emergency). It categorizes the type of service being provided. This code is often mapped from legacy systems. Impacts billing, resource allocation, and clinical workflows. PHI/PII: False. HIPAA: False.'),
  fhir_patient_class_display STRING OPTIONS(description='The \'fhir_patient_class_display\' field provides a human-readable description of the patient class code (e.g., \'Inpatient\', \'Outpatient\'). It complements the code by offering a clear understanding of the encounter type. Improves data interpretability and usability. PHI/PII: False. HIPAA: False.'),
  patient_type STRING OPTIONS(description='The \'patient_type\' field specifies the type of patient associated with the encounter. This could indicate if the patient is a new patient, a follow-up, or other relevant classifications. This is often specific to the organization. Impacts scheduling and resource allocation. PHI/PII: False. HIPAA: False.'),
  admission_type STRING OPTIONS(description='The \'admission_type\' field indicates the reason or type of admission for the encounter (e.g., emergency, elective, urgent). It provides context for the encounter\'s initiation. Essential for understanding the circumstances leading to the encounter. PHI/PII: False. HIPAA: False.'),
  patient_class_code STRING OPTIONS(description='The \'patient_class_code\' field represents a coded value for the patient\'s class during the encounter (e.g., inpatient, outpatient). It\'s a standardized way to categorize the encounter type. Used for billing, reporting, and resource management. PHI/PII: False. HIPAA: False.'),
  account_status_code STRING OPTIONS(description='The \'account_status_code\' field indicates the status of the patient\'s account associated with the encounter (e.g., open, closed, pending). It reflects the financial aspect of the encounter. Important for revenue cycle management and billing processes. PHI/PII: False. HIPAA: False.'),
  vip_indicator_code STRING OPTIONS(description='The \'vip_indicator_code\' field signifies whether the patient is designated as a VIP. It may influence the level of service or attention provided. Impacts resource allocation and patient care protocols. Could be considered sensitive. PHI/PII: True. HIPAA: True.'),
  financial_class_code STRING OPTIONS(description='The \'financial_class_code\' field represents the patient\'s financial class or insurance coverage (e.g., Medicare, Medicaid, private insurance). It determines the payer responsible for the encounter\'s costs. Crucial for billing and reimbursement. PHI/PII: True. HIPAA: True.'),
  mode_of_arrival_code STRING OPTIONS(description='The \'mode_of_arrival_code\' field indicates how the patient arrived for the encounter (e.g., ambulance, walk-in, car). It provides context for the encounter\'s circumstances. Useful for resource planning and emergency response. PHI/PII: False. HIPAA: False.'),
  accommodation_code STRING OPTIONS(description='The \'accommodation_code\' field represents a coded value specifying the type of accommodation provided during the encounter (e.g., private room, ward). It uses a defined code system. This is used for billing and resource allocation. It is often linked to organizational policies. The code provides a standardized way to represent accommodation types. It is used for reporting and analysis of resource utilization.'),
  accommodation_code_category STRING OPTIONS(description='The \'accommodation_code_category\' field provides a broader categorization of the accommodation code. This field helps in grouping accommodation types for reporting and analysis. It is useful for understanding the overall distribution of accommodation types. It can be used to derive insights into resource allocation and patient needs. It complements the \'accommodation_code\' field by providing a higher-level classification. It is often used for administrative and operational purposes.'),
  hospital_service_type_code STRING OPTIONS(description='The \'hospital_service_type_code\' field represents a coded value specifying the type of service provided during the encounter (e.g., cardiology, oncology). It uses a defined code system. This is crucial for billing and service tracking. It allows for standardized reporting and analysis of service utilization. It is often linked to organizational service catalogs. The code provides a consistent way to represent service types.'),
  hospital_service_type_text STRING OPTIONS(description='The \'hospital_service_type_text\' field provides a human-readable description of the hospital service type. This field complements the \'hospital_service_type_code\' field. It is useful for displaying the service type in a user-friendly format. It can be used for reporting and analysis of service utilization. It provides additional context to the coded value. It is often used for administrative and operational purposes.'),
  admit_source_code STRING OPTIONS(description='The \'admit_source_code\' field represents a coded value specifying the source of the patient\'s admission (e.g., emergency room, physician referral). It uses a defined code system. This is important for understanding patient flow and referral patterns. It allows for standardized reporting and analysis of admission sources. It is often linked to organizational referral networks. The code provides a consistent way to represent admission sources.'),
  discharge_disposition ARRAY<STRUCT<code STRING OPTIONS(description='The \'discharge_disposition.code\' field represents a coded value specifying the patient\'s destination upon discharge (e.g., home, skilled nursing facility). It uses a defined code system. This is crucial for understanding patient outcomes and transitions of care. It allows for standardized reporting and analysis of discharge destinations. It is often linked to post-acute care providers. The code provides a consistent way to represent discharge dispositions.'), display STRING OPTIONS(description='The \'discharge_disposition.display\' field provides a human-readable description of the discharge disposition. This field complements the \'discharge_disposition.code\' field. It is useful for displaying the disposition in a user-friendly format. It can be used for reporting and analysis of discharge patterns. It provides additional context to the coded value. It is often used for administrative and operational purposes.')>> OPTIONS(description='The \'discharge_disposition\' field represents the patient\'s destination upon discharge. It includes a code and a display value. This is crucial for understanding patient outcomes and transitions of care. It allows for standardized reporting and analysis of discharge destinations. It is often linked to post-acute care providers. The code provides a consistent way to represent discharge dispositions.'),
  patient_id STRING OPTIONS(description='The \'patient_id\' field represents a unique identifier for the patient associated with the encounter. This is a core element for linking encounter data to the correct patient record. It is essential for data integrity and patient safety. It is used for tracking patient history and care coordination. It must be handled with strict security and privacy measures. It is a critical piece of Protected Health Information (PHI).'),
  appointment_id STRING OPTIONS(description='The \'appointment_id\' field represents a unique identifier for the appointment associated with the encounter. This is used to link the encounter to a specific scheduled appointment. It is helpful for tracking appointment adherence and resource utilization. It can be used for scheduling and billing purposes. It may contain information about the patient and the provider. It is often used for administrative and operational purposes.'),
  account_id STRING OPTIONS(description='The \'account_id\' field represents a unique identifier for the patient\'s account associated with the encounter. This is used for billing and financial tracking purposes. It is essential for revenue cycle management. It may contain information about the patient\'s insurance coverage. It is often used for administrative and operational purposes. It is linked to the patient\'s financial record.'),
  deceased_date_time STRING OPTIONS(description='The \'deceased_date_time\' field represents the date and time when the patient was declared deceased. This is a critical piece of information for patient records. It is used for various administrative and clinical purposes. It must be handled with sensitivity and respect. It is important for legal and ethical considerations. It is often used for reporting and analysis of mortality rates.'),
  admission_date STRING OPTIONS(description='The \'admission_date\' field represents the date when a patient was admitted for an encounter. It\'s crucial for tracking encounter start times, calculating length of stay, and billing. It\'s often linked to the Encounter.period.start in FHIR. Accuracy is vital for clinical and administrative purposes. This field is often derived from HL7 messages or other source systems.'),
  discharge_date STRING OPTIONS(description='The \'discharge_date\' field indicates the date when a patient was discharged from an encounter. It\'s essential for determining encounter duration, billing, and resource utilization. It corresponds to Encounter.period.end in FHIR. Accurate discharge dates are critical for data quality and analysis. This field is often derived from HL7 messages or other source systems.'),
  is_valid_date_ind BOOLEAN OPTIONS(description='The \'is_valid_date_ind\' field is a boolean flag indicating whether the associated date fields (e.g., admission_date, discharge_date) contain valid and reasonable date values. It\'s used for data quality checks and to identify potential data errors or inconsistencies. A value of \'true\' suggests the date is valid, while \'false\' indicates a potential issue.'),
  alt_admission_date_time STRING OPTIONS(description='The \'alt_admission_date_time\' field provides an alternative representation of the admission date and time, potentially from a different source system or in a different format than the primary \'admission_date\' field. It serves as a backup or secondary source of admission information, useful for reconciliation and data validation. It may contain date and time with timezone information.'),
  hl7_admission_date_time STRING OPTIONS(description='The \'hl7_admission_date_time\' field stores the admission date and time as received directly from an HL7 message. This field preserves the original HL7 representation of the admission date, which is valuable for auditing, troubleshooting, and ensuring data integrity during the ETL process. It often includes timezone information.'),
  alt_discharge_date_time STRING OPTIONS(description='The \'alt_discharge_date_time\' field provides an alternative representation of the discharge date and time, possibly from a different source or in a different format. It acts as a secondary source of discharge information, useful for data reconciliation and validation. It may contain date and time with timezone information.'),
  hl7_discharge_date_time STRING OPTIONS(description='The \'hl7_discharge_date_time\' field stores the discharge date and time as received directly from an HL7 message. This preserves the original HL7 representation, which is valuable for auditing, troubleshooting, and ensuring data integrity. It often includes timezone information.'),
  reason_for_visit_text STRING OPTIONS(description='The \'reason_for_visit_text\' field contains a textual description of the patient\'s reason for the encounter. This field provides valuable context for the encounter and can be used for clinical documentation, billing, and reporting. It\'s often free-text and may require natural language processing for analysis.'),
  mt_reason_for_visit_code STRING OPTIONS(description='The \'mt_reason_for_visit_code\' field represents a coded value for the patient\'s reason for the encounter, using a standardized medical terminology (e.g., ICD-10, SNOMED CT). This field provides a structured and consistent way to represent the reason for visit, enabling data analysis and interoperability.'),
  patient_location ARRAY<STRUCT<location_id STRING OPTIONS(description='The \'location_id\' field within the \'patient_location\' record specifies the unique identifier of the location where the patient was during the encounter. This ID links to a location resource and is crucial for tracking patient movement and resource utilization.'), mnemonic STRING OPTIONS(description='The \'mnemonic\' field within the \'patient_location\' record provides a short, human-readable code or abbreviation for the location (e.g., \'ER\', \'ICU\'). This mnemonic aids in quick identification and understanding of the patient\'s location within the healthcare facility.'), physical_type STRING OPTIONS(description='The \'physical_type\' field within the \'patient_location\' record describes the type of physical space the location represents (e.g., \'ward\', \'room\', \'bed\'). This helps categorize and classify different locations within the healthcare facility for analysis and reporting.')>> OPTIONS(description='The \'patient_location\' field is a repeated record containing information about the patient\'s location during the encounter. It includes details like location ID, mnemonic, and physical type, providing a history of the patient\'s movements within the healthcare facility.'),
  emergency_department STRUCT<edm_arrived_date_time STRING OPTIONS(description='The date and time when the patient arrived at the emergency department. This is a key timestamp for tracking patient flow and ED utilization. PHI/PII: True. HIPAA: True'), edm_triaged_date_time STRING OPTIONS(description='The date and time when the patient was triaged in the emergency department. This timestamp is crucial for assessing triage efficiency and patient wait times. PHI/PII: True. HIPAA: True'), edm_departure_date_time STRING OPTIONS(description='The date and time when the patient departed from the emergency department. This marks the end of the ED encounter. PHI/PII: True. HIPAA: True'), coid STRING OPTIONS(description='A code identifying the organization or entity associated with the encounter. This is often an internal identifier. PHI/PII: False. HIPAA: False'), priority_rank STRING OPTIONS(description='The rank or order of priority assigned to the patient during triage. This reflects the urgency of the patient\'s condition. PHI/PII: False. HIPAA: False'), priority_code STRING OPTIONS(description='A code representing the priority level assigned to the patient. This is often a standardized coding system. PHI/PII: False. HIPAA: False'), priority_text STRING OPTIONS(description='A textual description of the priority level assigned to the patient. This provides a human-readable explanation of the priority code. PHI/PII: False. HIPAA: False'), edm_reason_for_visit_code STRING OPTIONS(description='A code representing the patient\'s reason for visiting the emergency department. This is often a standardized coding system like ICD or SNOMED. PHI/PII: True. HIPAA: True'), edm_reason_for_visit_text STRING OPTIONS(description='A textual description of the patient\'s reason for visiting the emergency department. This provides a human-readable explanation of the reason for visit. PHI/PII: True. HIPAA: True'), departure_info STRUCT<departure_disposition_code STRING OPTIONS(description='A code representing the patient\'s disposition upon departure from the emergency department (e.g., discharged, admitted). PHI/PII: True. HIPAA: True'), departure_disposition_text STRING OPTIONS(description='A textual description of the patient\'s disposition upon departure. PHI/PII: True. HIPAA: True'), departure_disposition_display STRING OPTIONS(description='A displayable version of the patient\'s disposition upon departure. PHI/PII: True. HIPAA: True'), departure_condition_code STRING OPTIONS(description='A code representing the patient\'s condition upon departure from the emergency department. PHI/PII: True. HIPAA: True'), departure_condition_text STRING OPTIONS(description='A textual description of the patient\'s condition upon departure. PHI/PII: True. HIPAA: True'), departure_condition_display STRING OPTIONS(description='A displayable version of the patient\'s condition upon departure. PHI/PII: True. HIPAA: True'), departure_comments STRING OPTIONS(description='Any comments or notes related to the patient\'s departure from the emergency department. PHI/PII: True. HIPAA: True')>, patient_location STRUCT<treatment_room STRUCT<room_code STRING OPTIONS(description='A code representing the treatment room where the patient was located. PHI/PII: False. HIPAA: False'), room_text STRING OPTIONS(description='A textual description of the treatment room. PHI/PII: False. HIPAA: False')>, edm_location STRUCT<location_code STRING OPTIONS(description='A code representing the patient\'s location within the emergency department. PHI/PII: False. HIPAA: False'), location_text STRING OPTIONS(description='A textual description of the patient\'s location within the emergency department. PHI/PII: False. HIPAA: False')>, reserved_room STRUCT<room_code STRING OPTIONS(description='A code representing the room that was reserved for the patient. PHI/PII: False. HIPAA: False'), room_text STRING OPTIONS(description='A textual description of the room that was reserved for the patient. PHI/PII: False. HIPAA: False')>>, edm_transport STRUCT<transport_company_code STRING OPTIONS(description='A code representing the transport company used for the patient. PHI/PII: False. HIPAA: False'), transport_company_display STRING OPTIONS(description='A displayable name of the transport company. PHI/PII: False. HIPAA: False'), transport_id_code STRING OPTIONS(description='A code identifying the specific transport vehicle or personnel. PHI/PII: False. HIPAA: False'), transport_id_display STRING OPTIONS(description='A displayable identifier for the transport. PHI/PII: False. HIPAA: False'), transport_call_date_time STRING OPTIONS(description='The date and time when the transport was called. PHI/PII: True. HIPAA: True')>>,
  registration_query ARRAY<STRUCT<mnemonic STRING OPTIONS(description='A short code or abbreviation representing a question asked during registration. PHI/PII: False. HIPAA: False'), question STRING OPTIONS(description='The text of the question asked during registration. PHI/PII: True. HIPAA: True'), response STRING OPTIONS(description='The patient\'s response to the question asked during registration. PHI/PII: True. HIPAA: True')>>,
  insert_timestamp TIMESTAMP OPTIONS(description='The timestamp when the record was inserted into the database. PHI/PII: False. HIPAA: False')
)
OPTIONS(description="This table stores FHIR Encounter resources. Encounters represent an interaction between a patient and healthcare provider(s) for the purpose of providing healthcare service(s) or assessing the health status of a patient. This includes a wide range of interactions such as inpatient visits, outpatient appointments, emergency room visits, and telehealth consultations. The table contains structured data extracted from FHIR Encounter resources, including patient demographics, encounter type, service type, participant information, period of the encounter, location details, and reason for the encounter. It also includes references to other FHIR resources such as Patient, Practitioner, Location, and ServiceRequest. Use this table to analyze encounter patterns, patient flow, resource utilization, and other healthcare-related metrics.");